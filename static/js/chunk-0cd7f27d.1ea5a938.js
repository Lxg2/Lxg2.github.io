(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cd7f27d"],{"4b89":function(e,t,r){"use strict";r("89eb")},"89eb":function(e,t,r){},fffa:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-box"},[r("el-form",{ref:"myform",staticClass:"my-form",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"股权标题",prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入股权标题"},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),r("el-form-item",{attrs:{label:"详情描述",prop:"content"}},[e.editflag?r("Tinymce",{ref:"editor",attrs:{height:300},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}}):e._e()],1),r("el-form-item",{attrs:{label:"企业"}},[r("el-input",{attrs:{placeholder:"请输入企业"},model:{value:e.ruleForm.companyname,callback:function(t){e.$set(e.ruleForm,"companyname",t)},expression:"ruleForm.companyname"}})],1),r("el-form-item",{attrs:{label:"内容描述"}},[r("el-input",{attrs:{placeholder:"请输入内容描述"},model:{value:e.ruleForm.remarks,callback:function(t){e.$set(e.ruleForm,"remarks",t)},expression:"ruleForm.remarks"}})],1),r("el-form-item",{attrs:{label:"标签展示"}},[e._l(e.ruleForm.tags,(function(t){return r("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(t){e.ruleForm.tags.splice(e.ruleForm.tags.indexOf(t),1)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?r("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):r("el-button",{staticClass:"button-new-tag",staticStyle:{"font-size":"13px !important"},attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 类型标签")])],2),r("el-form-item",{attrs:{label:"服务类型",prop:"servicetype"}},[r("el-input",{attrs:{placeholder:"请输入服务类型"},model:{value:e.ruleForm.servicetype,callback:function(t){e.$set(e.ruleForm,"servicetype",t)},expression:"ruleForm.servicetype"}})],1),r("el-form-item",{attrs:{label:"投资领域"}},[r("el-input",{attrs:{placeholder:"请输入投资领域"},model:{value:e.ruleForm.touzilingyu,callback:function(t){e.$set(e.ruleForm,"touzilingyu",t)},expression:"ruleForm.touzilingyu"}})],1),r("el-form-item",{attrs:{label:"基金规模"}},[r("el-input",{attrs:{placeholder:"请输入基金规模"},model:{value:e.ruleForm.jijinguimo,callback:function(t){e.$set(e.ruleForm,"jijinguimo",t)},expression:"ruleForm.jijinguimo"}})],1),r("el-form-item",{attrs:{label:"基金管理人"}},[r("el-input",{attrs:{placeholder:"请输入基金管理人"},model:{value:e.ruleForm.jijinguanliren,callback:function(t){e.$set(e.ruleForm,"jijinguanliren",t)},expression:"ruleForm.jijinguanliren"}})],1),r("el-form-item",{attrs:{label:"管理人简介"}},[e.editflag?r("Tinymce",{ref:"editor",attrs:{height:300},model:{value:e.ruleForm.guanlirenjieshao,callback:function(t){e.$set(e.ruleForm,"guanlirenjieshao",t)},expression:"ruleForm.guanlirenjieshao"}}):e._e()],1),r("el-form-item",{attrs:{label:"管理人投资案例"}},[e.editflag?r("Tinymce",{ref:"editor",attrs:{height:300},model:{value:e.ruleForm.guanlirentouzianli,callback:function(t){e.$set(e.ruleForm,"guanlirentouzianli",t)},expression:"ruleForm.guanlirentouzianli"}}):e._e()],1),r("el-form-item",{attrs:{label:"置顶/热门"}},[r("div",{staticStyle:{"margin-left":"10px"}},[r("el-checkbox-group",{model:{value:e.ruleForm.hotstr,callback:function(t){e.$set(e.ruleForm,"hotstr",t)},expression:"ruleForm.hotstr"}},[r("el-checkbox",{attrs:{label:"置顶",value:1}}),r("el-checkbox",{attrs:{label:"热门",value:2}})],1)],1)]),r("el-form-item",{attrs:{label:"是否显示"}},[r("div",{staticStyle:{"margin-left":"10px"}},[r("el-switch",{attrs:{"active-text":"显示","inactive-text":"隐藏"},model:{value:e.ruleForm.isshow,callback:function(t){e.$set(e.ruleForm,"isshow",t)},expression:"ruleForm.isshow"}})],1)]),r("el-form-item",{attrs:{label:"排序ID"}},[r("el-input",{attrs:{placeholder:"ID越小越靠前"},model:{value:e.ruleForm.sortid,callback:function(t){e.$set(e.ruleForm,"sortid",t)},expression:"ruleForm.sortid"}})],1),r("el-form-item",{attrs:{label:"股权封面",prop:"imgurl"}},[r("el-upload",{attrs:{action:e.$store.state.user.beseFile,"list-type":"picture-card","on-success":e.handleSuccess,"on-error":e.handleError,"before-upload":e.beforeUpload,"on-remove":e.handleRemove,"file-list":e.fileList,limit:1}},[r("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",height:"100%"},attrs:{slot:"trigger"},slot:"trigger"},[r("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"80px"}}),r("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"14px","margin-top":"10px"}},[e._v("添加封面")])])])],1),r("el-form-item",[r("div",{staticClass:"but-b"},[r("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("myform")}}},[e._v("发布")])],1)])],1)],1)},l=[],n=r("5530"),a=r("c7eb"),o=r("1da1"),s=r("ade3"),u=(r("caad"),r("a15b"),r("2532"),r("b8bc")),c=r("8256"),m=r("c24f"),p={components:{ImageUpload:u["a"],Tinymce:c["a"]},data:function(){var e=function(e,t,r){""===t||void 0===t?r(new Error("请上传封面")):r()};return Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({form:{},fileList:[],imgdialogVisible:!1,validateImg:e,dialogImageUrl:"",editflag:!1,containertext:"",containertext2:"",containertext3:""},"dialogImageUrl",""),"inputVisible",!1),"inputValue",""),"ruleForm",{title:"",content:"",hotstr:[],tags:[],servicetype:"",sortid:"",isshow:!0,imgurl:"",touzilingyu:"",jijinguimo:"",jijinguanliren:"",guanlirenjieshao:"",guanlirentouzianli:"",companyname:"",remarks:""}),"rules",{title:[{required:!0,message:"请输入标题",trigger:"blur"}],content:[{required:!0,message:"请填写内容",trigger:"change"}],imgurl:[{required:!0,trigger:"change",validator:e}]}),"options",[])},created:function(){this.getselectlist()},mounted:function(){var e=this;Object(m["e"])({id:this.$route.query.id}).then((function(t){var r=t.datalist,i=r.Tags,l=r.Companyname,n=r.Remarks,a=r.Touzilingyu,o=r.Jijinguimo,s=r.Jijinguanliren,u=r.Guanlirenjieshao,c=r.Guanlirentouzianli,m=r.Title,p=r.Content,f=r.Hotstr,g=r.Sortid,h=r.Imgurl,d=r.Isshow,b=r.Servicetype;e.ruleForm.title=m,e.ruleForm.companyname=l,e.editflag=!0,i&&(e.ruleForm.tags=i.split(",")),e.ruleForm.remarks=n,e.ruleForm.hotstr=f.split(","),e.ruleForm.sortid=g,e.ruleForm.servicetype=b,e.ruleForm.isshow=!!d,e.ruleForm.imgurl=h,e.ruleForm.touzilingyu=a,e.ruleForm.jijinguimo=o,e.ruleForm.guanlirentouzianli=c,e.ruleForm.jijinguanliren=s,e.fileList=[{url:h}],e.$nextTick((function(){e.ruleForm.content=p,e.ruleForm.guanlirenjieshao=u,e.ruleForm.guanlirentouzianli=c}))}))},methods:{handleInputConfirm:function(){var e=this.inputValue;e&&(0!==this.ruleForm.tags.length?!this.ruleForm.tags.includes(e)&&this.ruleForm.tags.push(e):this.ruleForm.tags.push(e)),this.inputVisible=!1,this.inputValue=""},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},beforeUpload:function(e){var t="image/jpeg"===e.type,r="image/png"===e.type,i=e.size/1024/1024<10;return t||r||this.$message.error("上传图片只能是 JPG/PNG 格式!"),i||this.$message.error("上传图片大小不能超过 10MB!"),t||r&&i},handleSuccess:function(e){this.ruleForm.imgurl=e.filepath},handleError:function(e){this.$message.error(e.msg)},handleRemove:function(){this.ruleForm.imgurl="",this.fileList=[]},getselectlist:function(){var e=this;return Object(o["a"])(Object(a["a"])().mark((function t(){var r;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["j"])({channelname:e.$route.meta.channelname});case 2:r=t.sent,e.options=r.datalist;case 4:case"end":return t.stop()}}),t)})))()},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(o["a"])(Object(a["a"])().mark((function e(r){var i,l,o,s,u;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=8;break}return i=t.ruleForm,l=i.hotstr,o=i.isshow,s=i.tags,t.ruleForm.hotstr=l.join(","),s.length&&(s=s.join(",")),e.next=6,Object(m["n"])(Object(n["a"])(Object(n["a"])({},t.ruleForm),{},{tags:s,id:t.$route.query.id,channelname:t.$route.meta.channelname,isshow:+o}));case 6:u=e.sent,200==u.status&&(t.$message.success(u.msg),t.$router.go(-1));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},f=p,g=(r("4b89"),r("2877")),h=Object(g["a"])(f,i,l,!1,null,"36a1c648",null);t["default"]=h.exports}}]);