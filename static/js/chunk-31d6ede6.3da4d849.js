(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31d6ede6"],{"28ef":function(e,t,r){"use strict";r("5b1a")},"5b1a":function(e,t,r){},fbeb:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-box"},[r("el-form",{ref:"myform",staticClass:"my-form",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"政策内容",prop:"content"}},[r("Tinymce",{ref:"editor",attrs:{height:300},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),r("el-form-item",[r("div",{staticClass:"but-b"},[r("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("myform")}}},[e._v("发布")])],1)])],1)],1)},a=[],i=r("5530"),o=r("c7eb"),c=r("1da1"),s=r("b8bc"),u=r("8256"),l=r("c24f"),m={components:{ImageUpload:s["a"],Tinymce:u["a"]},data:function(){var e=function(e,t,r){""===t||void 0===t?r(new Error("请上传封面")):r()};return{form:{},fileList:[],imgdialogVisible:!1,editflag:!1,validateImg:e,dialogImageUrl:"",containertext:"",ruleForm:{content:""},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],content:[{required:!0,message:"请填写内容",trigger:"change"}],categoryId:[{required:!0,message:"请选择所属类别",trigger:"change"}],imgurl:[{required:!0,trigger:"change",validator:e}]},options:[]}},mounted:function(){this.getdetailinfo()},methods:{getdetailinfo:function(){var e=this;return Object(c["a"])(Object(o["a"])().mark((function t(){var r,n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.containertext="",t.next=3,Object(l["i"])({typename:e.$route.meta.serverid});case 3:r=t.sent,200===r.status&&(n=r.datalist.Content,e.ruleForm.content=n,e.containertext=n,e.$nextTick((function(){e.$refs.editor.setContent(e.ruleForm.content)})));case 5:case"end":return t.stop()}}),t)})))()},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(c["a"])(Object(o["a"])().mark((function e(r){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=13;break}if(n=null,!t.containertext){e.next=8;break}return e.next=5,Object(l["p"])(Object(i["a"])(Object(i["a"])({},t.ruleForm),{},{typename:t.$route.meta.serverid}));case 5:n=e.sent,e.next=12;break;case 8:return e.next=10,Object(l["l"])(Object(i["a"])(Object(i["a"])({},t.ruleForm),{},{typename:t.$route.meta.serverid}));case 10:n=e.sent,t.containertext=t.ruleForm.content;case 12:200==n.status&&t.$message.success(n.msg);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},f=m,b=(r("28ef"),r("2877")),d=Object(b["a"])(f,n,a,!1,null,"29085e0e",null);t["default"]=d.exports}}]);